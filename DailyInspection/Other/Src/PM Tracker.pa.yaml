# ************************************************************************************************
# Warning: YAML source code for Canvas Apps should only be used to review changes made within Power Apps Studio and for minor edits (Preview).
# Use the maker portal to create and edit your Power Apps.
# 
# The schema file for Canvas Apps is available at https://go.microsoft.com/fwlink/?linkid=2304907
# 
# For more information, visit https://go.microsoft.com/fwlink/?linkid=2292623
# ************************************************************************************************
Screens:
  PM Tracker:
    Properties:
      OnVisible: |-
        =NewForm(FormInspDate);
        ResetForm(FormInspDate);
        ClearCollect(colInspHis, 'Inspection History');
        ClearCollect(colOOSHistory, 'OOS History'); 
        ClearCollect(colInspectionTracker2, 'Inspection Tracker 2.0');

        Set(varChooseVehicle, true);
        UpdateContext({varOutInsp: false, varOut30: false, var1472Day: false, var1104Day: false, var368Day:false, var184Day: false, var92Day: false });
        Set(varOOSHis, false)
    Children:
      - Button29_2:
          Control: Classic/Button@2.2.0
          Properties:
            BorderStyle: =BorderStyle.None
            Fill: ='UTA-Green'.Fill
            OnSelect: =Set(varChooseVehicle, true);
            Text: ="Change Vehicle"
            Width: =157
            X: =604
            Y: =61
      - Rectangle18_23:
          Control: Rectangle@2.3.0
          Properties:
            Fill: ='UTA-LightGray'.Fill
            Height: =540
            Width: =48
            X: =376
            Y: =53
      - Rectangle18_22:
          Control: Rectangle@2.3.0
          Properties:
            Fill: ='UTA-LightGray'.Fill
            Height: =540
            Width: =115
            X: =195
            Y: =51
      - Label17_11:
          Control: Label@2.5.1
          Properties:
            Align: =Align.Center
            Fill: =RGBA(237, 237, 237, 0.7)
            FontWeight: =FontWeight.Semibold
            Height: =51
            Size: =24
            Text: ="Enter New Inpsection"
            Width: =1366
      - Icon7_9:
          Control: Classic/Icon@2.5.0
          Properties:
            Height: =51
            Icon: =Icon.Home
            OnSelect: |-
              =UpdateContext({ var184Day: false, var92Day: false, var1472Day: false, var1104Day: false, var368Day:false });
              Navigate('PM-Home')
      - Rectangle18_19:
          Control: Rectangle@2.3.0
          Properties:
            Fill: ='UTA-LightGray'.Fill
            Height: =541
            Width: =80
            Y: =52
      - Rectangle18_20:
          Control: Rectangle@2.3.0
          Properties:
            BorderColor: =Color.Black
            BorderThickness: =1
            Fill: =RGBA(0, 0, 0, 0)
            Height: =542
            Width: =481
            Y: =51
      - Rectangle18_21:
          Control: Rectangle@2.3.0
          Properties:
            BorderColor: =Color.Black
            BorderThickness: =1
            Fill: ='UTA-LightGray'.Fill
            Height: =76
            Width: =481
            Y: =51
      - FormInspDate:
          Control: Form@2.4.4
          Variant: Classic
          Layout: Vertical
          Properties:
            DataSource: ='Inspection Tracker 2.0'
            Height: =649
            Item: =LookUp(colInspectionTracker2, 'VEHICLE NO' = ddVehicle.Selected.'Coach/Cab/Locomotive' )
            NumberOfColumns: =12
            Width: =869
            X: =487
            Y: =118
          Children:
            - DataCard33:
                Control: TypedDataCard@1.0.7
                Variant: BlankCard
                Properties:
                  Height: =87
                  Width: =216
                  X: =0
                  Y: =0
                Children:
                  - Dropdown12:
                      Control: Classic/DropDown@2.3.1
                      Properties:
                        Default: =DataCardValue138.Selected.Value
                        DisplayMode: =DisplayMode.Disabled
                        Height: =38
                        Items: ='Loco/Cab/Coach'
                        Items.Value: =field_2
                        Width: =150
                        X: =30
                        Y: =49
                  - DataCardKey108_3:
                      Control: Label@2.5.1
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =App.Theme.Colors.Darker30
                        DisplayMode: =DisplayMode.Disabled
                        Text: ="VEHICLE TYPE"
                        Width: =Parent.Width - 60
                        Wrap: =false
                        X: =30
                        Y: =10
            - DataCard34:
                Control: TypedDataCard@1.0.7
                Variant: BlankCard
                Properties:
                  Height: =98
                  Width: =216
                  X: =3
                  Y: =0
                Children:
                  - DataCardKey108_4:
                      Control: Label@2.5.1
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =App.Theme.Colors.Darker30
                        DisplayMode: =DisplayMode.Disabled
                        Text: ="VEHICLE NO"
                        Width: =Parent.Width - 60
                        Wrap: =false
                        X: =30
                        Y: =10
                  - Dropdown12_1:
                      Control: Classic/DropDown@2.3.1
                      Properties:
                        DisplayMode: =DisplayMode.Disabled
                        Height: =38
                        Items: =ddVehicle.SelectedText
                        Items.Value: =Value
                        OnSelect: =Set(varChooseVehicle, true);
                        Width: =150
                        X: =30
                        Y: =49
            - OOSCheckbox:
                Control: TypedDataCard@1.0.7
                Variant: BlankCard
                Properties:
                  Height: =191
                  Width: =864
                  X: =0
                  Y: =1
                Children:
                  - CB184Day:
                      Control: Classic/CheckBox@2.1.0
                      Properties:
                        Default: =var184Day
                        OnCheck: |-
                          =
                          UpdateContext({varOut30:false, varOutInsp:false, var184Day: true, var92Day: true })
                        OnUncheck: |+
                          =UpdateContext({ varOutInsp: false, varOut30: false, var184Day: false, var92Day: false, var1472Day: false, var1104Day: false, var368Day:false })
                        Text: ="184 DAY"
                        Visible: =If(Dropdown12.Selected.'Vehicle Type' = "Cab", false, true)
                        Width: =125
                        X: =146
                        Y: =49
                  - CB1472Day:
                      Control: Classic/CheckBox@2.1.0
                      Properties:
                        Default: =var1472Day
                        OnCheck: |-
                          =
                          UpdateContext({varOut30:false, varOutInsp:false, var1472Day: true, var1104Day: false, var368Day:true, var184Day: true, var92Day: true })
                        OnUncheck: |-
                          =UpdateContext({varOutInsp: false, varOut30: false, var1472Day: false, var1104Day: false, var368Day:false, var184Day: false, var92Day: false })
                        Text: ="1472 DAY"
                        Width: =125
                        X: =578
                        Y: =49
                  - CB92Day:
                      Control: Classic/CheckBox@2.1.0
                      Properties:
                        Default: =var92Day
                        OnCheck: |-
                          =Reset(DatePicker4_1);
                          UpdateContext({ varOut30:false, varOutInsp:false, var92Day: true })
                        OnUncheck: |-
                          =UpdateContext({varOutInsp: false, varOut30: false,  var184Day: false, var92Day: false, var1472Day: false, var1104Day: false, var368Day:false })
                        Text: ="92 DAY"
                        Visible: =If(Dropdown12.Selected.'Vehicle Type' = "Coach", false, true)
                        Width: =125
                        X: =2
                        Y: =49
                  - CB368Day:
                      Control: Classic/CheckBox@2.1.0
                      Properties:
                        Default: =var368Day
                        OnCheck: |-
                          =
                          UpdateContext({varOut30:false, varOutInsp:false, var368Day:true, var184Day: true, var92Day: true })
                        OnUncheck: |-
                          =UpdateContext({varOutInsp: false, varOut30: false,  var184Day: false, var92Day: false, var1472Day: false, var1104Day: false, var368Day:false })
                        Text: ="368 DAY"
                        Width: =125
                        X: =290
                        Y: =49
                  - CBOOS30:
                      Control: Classic/CheckBox@2.1.0
                      Properties:
                        Default: =varOut30
                        OnCheck: |-
                          =Reset(DatePicker4_1);
                          NewForm(Form5);
                          Set(varFormFM, FormMode.New);
                          Set(varOOSHis, true);
                          UpdateContext({varOut30: true, varOutInsp:false});
                          UpdateContext({ var1472Day: false, var1104Day: false, var368Day:false, var184Day: false, var92Day: false })
                        OnUncheck: |-
                          =Set(varForm5, false);
                          Set(varOOSHis, false);
                          EditForm(Form5)
                        Text: ="OOS OVER 30 DAYS"
                        Width: =130
                        X: =146
                        Y: =119
                  - CB1104Day:
                      Control: Classic/CheckBox@2.1.0
                      Properties:
                        Default: =var1104Day
                        OnCheck: |-
                          =
                          UpdateContext({varOut30:false, varOutInsp:false, var1104Day: true, var368Day:true, var184Day: true, var92Day: true, var1472Day: false })
                        OnUncheck: |-
                          =UpdateContext({ varOutInsp: false, varOut30: false, var184Day: false, var92Day: false, var1472Day: false, var1104Day: false})
                        Text: ="1104 DAY"
                        Visible: =If(Dropdown12.Selected.'Vehicle Type' = "Cab" || "Coach", false, true)
                        Width: =125
                        X: =434
                        Y: =49
                  - DataCardKey108_2:
                      Control: Label@2.5.1
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =App.Theme.Colors.Darker30
                        Text: ="SELECT THE INSPECTION(s) COMPLETED"
                        Width: =Parent.Width - 60
                        Wrap: =false
                        X: =40
                        Y: =10
                  - CBOFORINSP:
                      Control: Classic/CheckBox@2.1.0
                      Properties:
                        Default: =varOutInsp
                        OnCheck: |-
                          =
                          UpdateContext({varOutInsp: true});
                          UpdateContext({varOut30: false, var1472Day: false, var1104Day: false, var368Day:false, var184Day: false, var92Day: false })
                        OnUncheck: |-
                          =UpdateContext({varOutInsp: false, varOut30: false, var1472Day: false, var1104Day: false, var368Day:false, var184Day: false, var92Day: false })
                        Text: ="OUT OF SERVICE"
                        Width: =130
                        X: =2
                        Y: =119
            - DataCard31:
                Control: TypedDataCard@1.0.7
                Variant: BlankCard
                Properties:
                  Height: =100
                  Visible: =var92Day
                  Width: =288
                  X: =0
                  Y: =2
                Children:
                  - DatePicker4:
                      Control: Classic/DatePicker@2.6.0
                      Properties:
                        DefaultDate: =
                        Width: =156
                        X: =30
                        Y: =49
                  - DataCardKey108_1:
                      Control: Label@2.5.1
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =App.Theme.Colors.Darker30
                        Text: ="IN SERVICE DATE"
                        Width: =Parent.Width - 60
                        Wrap: =false
                        X: =30
                        Y: =10
            - DataCard36:
                Control: TypedDataCard@1.0.7
                Variant: BlankCard
                Properties:
                  Height: =107
                  Visible: =varOutInsp
                  Width: =216
                  X: =6
                  Y: =2
                Children:
                  - DatePicker4_1:
                      Control: Classic/DatePicker@2.6.0
                      Properties:
                        DefaultDate: =
                        Width: =156
                        X: =30
                        Y: =49
                  - DataCardKey108_5:
                      Control: Label@2.5.1
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =App.Theme.Colors.Darker30
                        Text: ="OUT INSP DATE"
                        Width: =Parent.Width - 60
                        Wrap: =false
                        X: =30
                        Y: =10
            - DataCard28:
                Control: TypedDataCard@1.0.7
                Variant: BlankCard
                Properties:
                  Height: =83
                  Width: =864
                  X: =0
                  Y: =3
                Children:
                  - SubDates:
                      Control: Classic/Button@2.2.0
                      Properties:
                        OnSelect: |
                          =Set(varWait, true);

                          Patch(
                              'Inspection Tracker 2.0',
                              LookUp(
                                  'Inspection Tracker 2.0',
                                  'VEHICLE NO' = ddVehicle.Selected.'Coach/Cab/Locomotive' && 'NEXT INSPECTION' = "92-Day"
                              ),
                              {
                                  'LAST INSP DATE': dpLast92Day.SelectedDate,
                                  'INSP DUE DATE': dpNext92Day.SelectedDate,
                                  'OUT INSPECTION DATE': DatePicker4_1.SelectedDate,
                                  'DUE DATE WITH OOS CREDIT': dpOOSNext92Day.SelectedDate
                              }
                          );
                          Patch(
                              'Inspection Tracker 2.0',
                              LookUp(
                                  'Inspection Tracker 2.0',
                                  'VEHICLE NO' = ddVehicle.Selected.'Coach/Cab/Locomotive' && 'NEXT INSPECTION' = "184-Day"
                              ),
                              {
                                  'LAST INSP DATE': dpLast184Day.SelectedDate,
                                  'INSP DUE DATE': dpNext184Day.SelectedDate,
                                  'OUT INSPECTION DATE': DatePicker4_1.SelectedDate,
                                  'DUE DATE WITH OOS CREDIT': dpOOSNext184Day.SelectedDate
                              }
                          );
                          Patch(
                              'Inspection Tracker 2.0',
                              LookUp(
                                  'Inspection Tracker 2.0',
                                  'VEHICLE NO' = ddVehicle.Selected.'Coach/Cab/Locomotive' && 'NEXT INSPECTION' = "368-Day"
                              ),
                              {
                                  'LAST INSP DATE': dpLast368Day.SelectedDate,
                                  'INSP DUE DATE': dpNext368Day.SelectedDate,
                                  'OUT INSPECTION DATE': DatePicker4_1.SelectedDate,
                                  'DUE DATE WITH OOS CREDIT': dpOOSNext368Day.SelectedDate
                              }
                          );
                          Patch(
                              'Inspection Tracker 2.0',
                              LookUp(
                                  'Inspection Tracker 2.0',
                                  'VEHICLE NO' = ddVehicle.Selected.'Coach/Cab/Locomotive' && 'NEXT INSPECTION' = "1104-Day"
                              ),
                              {
                                  'LAST INSP DATE': dpLast1104Day.SelectedDate,
                                  'INSP DUE DATE': dpNext1104Day.SelectedDate,
                                  'OUT INSPECTION DATE': DatePicker4_1.SelectedDate,
                                  'DUE DATE WITH OOS CREDIT': dpOOSNext1104Day.SelectedDate
                              }
                          );
                          Patch(
                              'Inspection Tracker 2.0',
                              LookUp(
                                  'Inspection Tracker 2.0',
                                  'VEHICLE NO' = ddVehicle.Selected.'Coach/Cab/Locomotive' && 'NEXT INSPECTION' = "1472-Day"
                              ),
                              {
                                  'LAST INSP DATE': dpLast1472Day.SelectedDate,
                                  'INSP DUE DATE': dpNext1472Day.SelectedDate,
                                  'OUT INSPECTION DATE': DatePicker4_1.SelectedDate,
                                  'DUE DATE WITH OOS CREDIT': dpOOSNext1472Day.SelectedDate
                              }
                          );

                          Set(
                              varChooseVehicle,
                              true
                          );
                          UpdateContext(
                              {
                                  var1472Day: false,
                                  var1104Day: false,
                                  var368Day: false,
                                  var184Day: false,
                                  var92Day: false,
                                  varOut30: false,
                                  varOutInsp: false
                              }
                          );
                          ClearCollect(
                              colOOSHistory,
                              'OOS History'
                          );
                          Refresh('Inspection Tracker 2.0');
                        Text: ="Submit"
                        Visible: =If(CBOOS30.Value=false, true, false)
                        X: =583
                        Y: =30
                  - Button29:
                      Control: Classic/Button@2.2.0
                      Properties:
                        BorderStyle: =BorderStyle.None
                        Fill: ='UTA-LightGray'.Fill
                        OnSelect: =Set(varChooseVehicle, true);
                        Text: ="Cancel"
                        Visible: =If(CBOOS30.Value=false, true, false)
                        Width: =125
                        X: =410
                        Y: =30
            - NEXT 92-DAY_DataCard1:
                Control: TypedDataCard@1.0.7
                Variant: ClassicDateEdit
                Properties:
                  DataField: ="NEXT_x0020_92_x002d_DAY"
                  DisplayMode: =DisplayMode.View
                  Required: =false
                  Update: =dpNext92Day.SelectedDate
                  Visible: =false
                  Width: =288
                  X: =0
                  Y: =4
                Children:
                  - DataCardKey50:
                      Control: Label@2.5.1
                      MetadataKey: FieldName
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =App.Theme.Colors.Darker30
                        Height: =34
                        Text: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        Wrap: =false
                        X: =30
                        Y: =10
                  - dpNext92Day:
                      Control: Classic/DatePicker@2.6.0
                      MetadataKey: FieldValue
                      Properties:
                        BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                        DefaultDate: =DateAdd(dpLast92Day.SelectedDate,92)
                        DisplayMode: =Parent.DisplayMode
                        EndYear: =Year(Today())+100
                        IsEditable: =true
                        PaddingBottom: =0
                        PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                        StartYear: =1899
                        Tooltip: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardKey50.Y + DataCardKey50.Height + 5
                  - ErrorMessage50:
                      Control: Label@2.5.1
                      MetadataKey: ErrorMessage
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(168, 0, 0, 1)
                        FontWeight: =FontWeight.Semibold
                        Height: =10
                        Live: =Live.Assertive
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =14
                        Text: =Parent.Error
                        Visible: =Parent.DisplayMode=DisplayMode.Edit
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =dpNext92Day.Y + dpNext92Day.Height
                  - StarVisible50:
                      Control: Label@2.5.1
                      MetadataKey: FieldRequired
                      Properties:
                        Align: =Align.Center
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =App.Theme.Colors.Darker30
                        Height: =DataCardKey50.Height
                        Text: ="*"
                        Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                        Width: =30
                        Wrap: =false
                        Y: =DataCardKey50.Y
            - OOS NEXT 92-DAY_DataCard1:
                Control: TypedDataCard@1.0.7
                Variant: ClassicDateEdit
                Properties:
                  DataField: ="OOS_x0020_NEXT_x0020_92_x002d_DA"
                  DisplayMode: =DisplayMode.View
                  Required: =false
                  Update: =dpOOSNext92Day.SelectedDate
                  Visible: =false
                  Width: =288
                  X: =4
                  Y: =4
                Children:
                  - DataCardKey142:
                      Control: Label@2.5.1
                      MetadataKey: FieldName
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =App.Theme.Colors.Darker30
                        Height: =34
                        Text: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        Wrap: =false
                        X: =30
                        Y: =10
                  - dpOOSNext92Day:
                      Control: Classic/DatePicker@2.6.0
                      MetadataKey: FieldValue
                      Properties:
                        BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                        DefaultDate: |
                          =With(
                              {
                                  OOSDays: Sum(
                                      Filter(
                                          colOOSHistory,
                                          Title = ddVehicle.Selected.'Coach/Cab/Locomotive' &&
                                          'OOS START' >= LookUp(
                                              colInspectionTracker2,
                                              'VEHICLE NO' = ddVehicle.Selected.'Coach/Cab/Locomotive' && 'NEXT INSPECTION' = "92-Day",
                                              'LAST INSP DATE'
                                          ) &&
                                          'OOS END' <= LookUp(
                                              colInspectionTracker2,
                                              'VEHICLE NO' = ddVehicle.Selected.'Coach/Cab/Locomotive' && 'NEXT INSPECTION' = "92-Day",
                                              If(!IsBlank(LookUp(
                                              colInspectionTracker2,
                                              'VEHICLE NO' = ddVehicle.Selected.'Coach/Cab/Locomotive' && 'NEXT INSPECTION' = "92-Day").'OUT INSPECTION DATE'), 'INSP DUE DATE', Today()) 
                                          )
                                      ),
                                      Value('OOS DAYS')
                                  )
                              },
                              If(
                                  OOSDays < 0,
                                  DateAdd(dpLast92Day.SelectedDate, 92 + DateDiff(LookUp('OOS History', Title = ddVehicle.Selected.'Coach/Cab/Locomotive').'OOS START', Today()) ),
                                  DateAdd(dpLast92Day.SelectedDate, 92 + OOSDays)
                              )
                          )
                        DisplayMode: =Parent.DisplayMode
                        EndYear: =Year(Today())+100
                        IsEditable: =true
                        PaddingBottom: =0
                        PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                        StartYear: =1899
                        Tooltip: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardKey142.Y + DataCardKey142.Height + 5
                  - ErrorMessage141:
                      Control: Label@2.5.1
                      MetadataKey: ErrorMessage
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(168, 0, 0, 1)
                        FontWeight: =FontWeight.Semibold
                        Height: =10
                        Live: =Live.Assertive
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =14
                        Text: =Parent.Error
                        Visible: =Parent.DisplayMode=DisplayMode.Edit
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =dpOOSNext92Day.Y + dpOOSNext92Day.Height
                  - StarVisible141:
                      Control: Label@2.5.1
                      MetadataKey: FieldRequired
                      Properties:
                        Align: =Align.Center
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =App.Theme.Colors.Darker30
                        Height: =DataCardKey142.Height
                        Text: ="*"
                        Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                        Width: =30
                        Wrap: =false
                        Y: =DataCardKey142.Y
            - LAST 184-DAY_DataCard1:
                Control: TypedDataCard@1.0.7
                Variant: ClassicDateEdit
                Properties:
                  DataField: ="LAST184_x002d_DAY"
                  DisplayMode: =DisplayMode.View
                  Required: =false
                  Update: =dpLast184Day.SelectedDate
                  Visible: =false
                  Width: =288
                  X: =8
                  Y: =4
                Children:
                  - DataCardKey146:
                      Control: Label@2.5.1
                      MetadataKey: FieldName
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =App.Theme.Colors.Darker30
                        Height: =34
                        Text: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        Wrap: =false
                        X: =30
                        Y: =10
                  - dpLast184Day:
                      Control: Classic/DatePicker@2.6.0
                      MetadataKey: FieldValue
                      Properties:
                        BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                        DefaultDate: |-
                          =   If(
                              Dropdown12.SelectedText.'Vehicle Type' = "Cab",
                              Blank(),
                             CB184Day.Value && CB92Day.Value,
                              DatePicker4.SelectedDate,
                              LookUp(
                                  'Inspection Tracker 2.0', 'VEHICLE NO' = 
                                  Dropdown12_1.SelectedText.'Coach/Cab/Locomotive' && 'NEXT INSPECTION' = "184-Day"
                              ).'LAST INSP DATE'
                          )
                        DisplayMode: =Parent.DisplayMode
                        EndYear: =Year(Today())+100
                        IsEditable: =true
                        PaddingBottom: =0
                        PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                        StartYear: =1899
                        Tooltip: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardKey146.Y + DataCardKey146.Height + 5
                  - ErrorMessage145:
                      Control: Label@2.5.1
                      MetadataKey: ErrorMessage
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(168, 0, 0, 1)
                        FontWeight: =FontWeight.Semibold
                        Height: =10
                        Live: =Live.Assertive
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =14
                        Text: =Parent.Error
                        Visible: =Parent.DisplayMode=DisplayMode.Edit
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =dpLast184Day.Y + dpLast184Day.Height
                  - StarVisible145:
                      Control: Label@2.5.1
                      MetadataKey: FieldRequired
                      Properties:
                        Align: =Align.Center
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =App.Theme.Colors.Darker30
                        Height: =DataCardKey146.Height
                        Text: ="*"
                        Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                        Width: =30
                        Wrap: =false
                        Y: =DataCardKey146.Y
            - NEXT 184-DAY_DataCard1:
                Control: TypedDataCard@1.0.7
                Variant: ClassicDateEdit
                Properties:
                  DataField: ="NEXT184_x002d_DAY"
                  DisplayMode: =DisplayMode.View
                  Required: =false
                  Update: =dpNext184Day.SelectedDate
                  Visible: =false
                  Width: =288
                  X: =0
                  Y: =5
                Children:
                  - DataCardKey147:
                      Control: Label@2.5.1
                      MetadataKey: FieldName
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =App.Theme.Colors.Darker30
                        Height: =34
                        Text: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        Wrap: =false
                        X: =30
                        Y: =10
                  - dpNext184Day:
                      Control: Classic/DatePicker@2.6.0
                      MetadataKey: FieldValue
                      Properties:
                        BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                        DefaultDate: |-
                          =If(
                              dpLast92Day.SelectedDate = dpLast184Day.SelectedDate || IsBlank(dpLast92Day.SelectedDate),
                              DateAdd(
                                  dpLast184Day.SelectedDate,
                                  184
                              ),
                              Dropdown12.SelectedText.'Vehicle Type' = "Cab",
                              Blank(),
                              dpLast92Day.SelectedDate <> dpLast184Day.SelectedDate,
                              DateAdd(
                                  dpLast92Day.SelectedDate,
                                  92
                              )
                          )
                        DisplayMode: =Parent.DisplayMode
                        EndYear: =Year(Today())+100
                        IsEditable: =true
                        PaddingBottom: =0
                        PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                        StartYear: =1899
                        Tooltip: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardKey147.Y + DataCardKey147.Height + 5
                  - ErrorMessage146:
                      Control: Label@2.5.1
                      MetadataKey: ErrorMessage
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(168, 0, 0, 1)
                        FontWeight: =FontWeight.Semibold
                        Height: =10
                        Live: =Live.Assertive
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =14
                        Text: =Parent.Error
                        Visible: =Parent.DisplayMode=DisplayMode.Edit
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =dpNext184Day.Y + dpNext184Day.Height
                  - StarVisible146:
                      Control: Label@2.5.1
                      MetadataKey: FieldRequired
                      Properties:
                        Align: =Align.Center
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =App.Theme.Colors.Darker30
                        Height: =DataCardKey147.Height
                        Text: ="*"
                        Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                        Width: =30
                        Wrap: =false
                        Y: =DataCardKey147.Y
            - OOS NEXT 184-DAY_DataCard1:
                Control: TypedDataCard@1.0.7
                Variant: ClassicDateEdit
                Properties:
                  DataField: ="OOSNEXT184_x002d_DAY"
                  DisplayMode: =DisplayMode.View
                  Required: =false
                  Update: =dpOOSNext184Day.SelectedDate
                  Visible: =false
                  Width: =288
                  X: =4
                  Y: =5
                Children:
                  - DataCardKey148:
                      Control: Label@2.5.1
                      MetadataKey: FieldName
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =App.Theme.Colors.Darker30
                        Height: =34
                        Text: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        Wrap: =false
                        X: =30
                        Y: =10
                  - dpOOSNext184Day:
                      Control: Classic/DatePicker@2.6.0
                      MetadataKey: FieldValue
                      Properties:
                        BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                        DefaultDate: "=If(\n    Dropdown12.SelectedText.'Vehicle Type' = \"Cab\",\n    Blank(),\n    \n    dpLast92Day.SelectedDate = dpLast184Day.SelectedDate || IsBlank(dpLast92Day.SelectedDate),\n    With(\n        {\n            OOSDays: Sum(\n                Filter(\n                    colOOSHistory,\n                    Title = ddVehicle.Selected.'Coach/Cab/Locomotive' && 'OOS START' >= LookUp(\n                        colInspectionTracker2,\n                        'VEHICLE NO' = ddVehicle.Selected.'Coach/Cab/Locomotive' && 'NEXT INSPECTION' = \"184-Day\",\n                        'LAST INSP DATE'\n                    ) && 'OOS END' <= LookUp(\n                        colInspectionTracker2,\n                        'VEHICLE NO' = ddVehicle.Selected.'Coach/Cab/Locomotive' && 'NEXT INSPECTION' = \"184-Day\",\n                        If(\n                            !IsBlank(\n                                LookUp(\n                                    colInspectionTracker2,\n                                    'VEHICLE NO' = ddVehicle.Selected.'Coach/Cab/Locomotive' && 'NEXT INSPECTION' = \"184-Day\"\n                                ).'OUT INSPECTION DATE'\n                            ),\n                            'INSP DUE DATE',\n                            Today()\n                        )\n                    )\n                ),\n                Value('OOS DAYS')\n            )\n        },\n        If(\n            OOSDays < 0,\n            DateAdd(\n                dpLast184Day.SelectedDate,\n                184 + DateDiff(\n                    LookUp(\n                        'OOS History',\n                        Title = ddVehicle.Selected.'Coach/Cab/Locomotive'\n                    ).'OOS START',\n                    Today()\n                )\n            ),\n            DateAdd(\n                dpLast184Day.SelectedDate,\n                184 + OOSDays\n            )\n        )\n    ),\n    With(\n        {\n            OOSDays: Sum(\n                Filter(\n                    colOOSHistory,\n                    Title = ddVehicle.Selected.'Coach/Cab/Locomotive' && 'OOS START' >= LookUp(\n                        colInspectionTracker2,\n                        'VEHICLE NO' = ddVehicle.Selected.'Coach/Cab/Locomotive' && 'NEXT INSPECTION' = \"92-Day\",\n                        'LAST INSP DATE'\n                    ) && 'OOS END' <= LookUp(\n                        colInspectionTracker2,\n                        'VEHICLE NO' = ddVehicle.Selected.'Coach/Cab/Locomotive' && 'NEXT INSPECTION' = \"92-Day\",\n                        If(\n                            !IsBlank(\n                                LookUp(\n                                    'Inspection Tracker 2.0',\n                                    'VEHICLE NO' = ddVehicle.Selected.'Coach/Cab/Locomotive' && 'NEXT INSPECTION' = \"92-Day\"\n                                ).'OUT INSPECTION DATE'\n                            ),\n                            'INSP DUE DATE',\n                            Today()\n                        )\n                    )\n                ),\n                Value('OOS DAYS')\n            )\n        },\n        If(\n            OOSDays < 0,\n            DateAdd(\n                dpLast92Day.SelectedDate,\n                92 + DateDiff(\n                    LookUp(\n                        'OOS History',\n                        Title = ddVehicle.Selected.'Coach/Cab/Locomotive'\n                    ).'OOS START',\n                    Today()\n                )\n            ),\n            DateAdd(\n                dpLast92Day.SelectedDate,\n                92 + OOSDays\n            )\n        )\n    )\n)"
                        DisplayMode: =Parent.DisplayMode
                        EndYear: =Year(Today())+100
                        IsEditable: =true
                        PaddingBottom: =0
                        PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                        StartYear: =1899
                        Tooltip: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardKey148.Y + DataCardKey148.Height + 5
                  - ErrorMessage147:
                      Control: Label@2.5.1
                      MetadataKey: ErrorMessage
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(168, 0, 0, 1)
                        FontWeight: =FontWeight.Semibold
                        Height: =10
                        Live: =Live.Assertive
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =14
                        Text: =Parent.Error
                        Visible: =Parent.DisplayMode=DisplayMode.Edit
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =dpOOSNext184Day.Y + dpOOSNext184Day.Height
                  - StarVisible147:
                      Control: Label@2.5.1
                      MetadataKey: FieldRequired
                      Properties:
                        Align: =Align.Center
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =App.Theme.Colors.Darker30
                        Height: =DataCardKey148.Height
                        Text: ="*"
                        Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                        Width: =30
                        Wrap: =false
                        Y: =DataCardKey148.Y
            - NEXT 368-DAY_DataCard1:
                Control: TypedDataCard@1.0.7
                Variant: ClassicDateEdit
                Properties:
                  DataField: ="NEXT_x0020_368_x002d_DAY"
                  DisplayMode: =DisplayMode.View
                  Required: =false
                  Update: =dpNext368Day.SelectedDate
                  Visible: =false
                  Width: =288
                  X: =8
                  Y: =5
                Children:
                  - DataCardKey134:
                      Control: Label@2.5.1
                      MetadataKey: FieldName
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =App.Theme.Colors.Darker30
                        Height: =34
                        Text: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        Wrap: =false
                        X: =30
                        Y: =10
                  - dpNext368Day:
                      Control: Classic/DatePicker@2.6.0
                      MetadataKey: FieldValue
                      Properties:
                        BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                        DefaultDate: =DateAdd(dpLast368Day.SelectedDate,368)
                        DisplayMode: =Parent.DisplayMode
                        EndYear: =Year(Today())+100
                        IsEditable: =true
                        PaddingBottom: =0
                        PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                        StartYear: =1899
                        Tooltip: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardKey134.Y + DataCardKey134.Height + 5
                  - ErrorMessage133:
                      Control: Label@2.5.1
                      MetadataKey: ErrorMessage
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(168, 0, 0, 1)
                        FontWeight: =FontWeight.Semibold
                        Height: =10
                        Live: =Live.Assertive
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =14
                        Text: =Parent.Error
                        Visible: =Parent.DisplayMode=DisplayMode.Edit
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =dpNext368Day.Y + dpNext368Day.Height
                  - StarVisible133:
                      Control: Label@2.5.1
                      MetadataKey: FieldRequired
                      Properties:
                        Align: =Align.Center
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =App.Theme.Colors.Darker30
                        Height: =DataCardKey134.Height
                        Text: ="*"
                        Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                        Width: =30
                        Wrap: =false
                        Y: =DataCardKey134.Y
            - OOS NEXT 368-DAY_DataCard1:
                Control: TypedDataCard@1.0.7
                Variant: ClassicDateEdit
                Properties:
                  DataField: ="OOS_x0020_NEXT_x0020_368_x002d_D"
                  DisplayMode: =DisplayMode.View
                  Required: =false
                  Update: =dpOOSNext368Day.SelectedDate
                  Visible: =false
                  Width: =288
                  X: =0
                  Y: =6
                Children:
                  - DataCardKey143:
                      Control: Label@2.5.1
                      MetadataKey: FieldName
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =App.Theme.Colors.Darker30
                        Height: =34
                        Text: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        Wrap: =false
                        X: =30
                        Y: =10
                  - dpOOSNext368Day:
                      Control: Classic/DatePicker@2.6.0
                      MetadataKey: FieldValue
                      Properties:
                        BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                        DefaultDate: |+
                          =With(
                              {
                                  OOSDays: Sum(
                                      Filter(
                                          colOOSHistory,
                                          Title = ddVehicle.Selected.'Coach/Cab/Locomotive' &&
                                          'OOS START' >= LookUp(
                                              colInspectionTracker2,
                                              'VEHICLE NO' = ddVehicle.Selected.'Coach/Cab/Locomotive' && 'NEXT INSPECTION' = "368-Day",
                                              'LAST INSP DATE'
                                          ) &&
                                          'OOS END' <= LookUp(
                                              colInspectionTracker2,
                                              'VEHICLE NO' = ddVehicle.Selected.'Coach/Cab/Locomotive' && 'NEXT INSPECTION' = "368-Day",
                                              If(!IsBlank(LookUp(
                                              colInspectionTracker2,
                                              'VEHICLE NO' = ddVehicle.Selected.'Coach/Cab/Locomotive' && 'NEXT INSPECTION' = "368-Day").'OUT INSPECTION DATE'), 'INSP DUE DATE', Today()) 
                                          )
                                      ),
                                      Value('OOS DAYS')
                                  )
                              },
                              If(
                                  OOSDays < 0,
                                  DateAdd(dpLast368Day.SelectedDate, 368 + DateDiff(LookUp('OOS History', Title = ddVehicle.Selected.'Coach/Cab/Locomotive').'OOS START', Today()) ),
                                  DateAdd(dpLast368Day.SelectedDate, 368 + OOSDays)
                              )
                          )
                        DisplayMode: =Parent.DisplayMode
                        EndYear: =Year(Today())+100
                        IsEditable: =true
                        PaddingBottom: =0
                        PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                        StartYear: =1899
                        Tooltip: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardKey143.Y + DataCardKey143.Height + 5
                  - ErrorMessage142:
                      Control: Label@2.5.1
                      MetadataKey: ErrorMessage
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(168, 0, 0, 1)
                        FontWeight: =FontWeight.Semibold
                        Height: =10
                        Live: =Live.Assertive
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =14
                        Text: =Parent.Error
                        Visible: =Parent.DisplayMode=DisplayMode.Edit
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =dpOOSNext368Day.Y + dpOOSNext368Day.Height
                  - StarVisible142:
                      Control: Label@2.5.1
                      MetadataKey: FieldRequired
                      Properties:
                        Align: =Align.Center
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =App.Theme.Colors.Darker30
                        Height: =DataCardKey143.Height
                        Text: ="*"
                        Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                        Width: =30
                        Wrap: =false
                        Y: =DataCardKey143.Y
            - NEXT 1104-DAY_DataCard1:
                Control: TypedDataCard@1.0.7
                Variant: ClassicDateEdit
                Properties:
                  DataField: ="NEXT_x0020_1104_x002d_DAY"
                  DisplayMode: =DisplayMode.View
                  Required: =false
                  Update: =dpNext1104Day.SelectedDate
                  Visible: =false
                  Width: =288
                  X: =4
                  Y: =6
                Children:
                  - DataCardKey141:
                      Control: Label@2.5.1
                      MetadataKey: FieldName
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =App.Theme.Colors.Darker30
                        Height: =34
                        Text: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        Wrap: =false
                        X: =30
                        Y: =10
                  - dpNext1104Day:
                      Control: Classic/DatePicker@2.6.0
                      MetadataKey: FieldValue
                      Properties:
                        BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                        DefaultDate: =DateAdd(dpLast1104Day.SelectedDate,1104)
                        DisplayMode: =Parent.DisplayMode
                        EndYear: =Year(Today())+100
                        IsEditable: =true
                        PaddingBottom: =0
                        PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                        StartYear: =1899
                        Tooltip: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardKey141.Y + DataCardKey141.Height + 5
                  - ErrorMessage140:
                      Control: Label@2.5.1
                      MetadataKey: ErrorMessage
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(168, 0, 0, 1)
                        FontWeight: =FontWeight.Semibold
                        Height: =10
                        Live: =Live.Assertive
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =14
                        Text: =Parent.Error
                        Visible: =Parent.DisplayMode=DisplayMode.Edit
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =dpNext1104Day.Y + dpNext1104Day.Height
                  - StarVisible140:
                      Control: Label@2.5.1
                      MetadataKey: FieldRequired
                      Properties:
                        Align: =Align.Center
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =App.Theme.Colors.Darker30
                        Height: =DataCardKey141.Height
                        Text: ="*"
                        Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                        Width: =30
                        Wrap: =false
                        Y: =DataCardKey141.Y
            - OOS NEXT 1104-DAY_DataCard1:
                Control: TypedDataCard@1.0.7
                Variant: ClassicDateEdit
                Properties:
                  DataField: ="OOS_x0020_NEXT_x0020_1104_x002d_"
                  DisplayMode: =DisplayMode.View
                  Required: =false
                  Update: =dpOOSNext1104Day.SelectedDate
                  Visible: =false
                  Width: =288
                  X: =8
                  Y: =6
                Children:
                  - DataCardKey145:
                      Control: Label@2.5.1
                      MetadataKey: FieldName
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =App.Theme.Colors.Darker30
                        Height: =34
                        Text: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        Wrap: =false
                        X: =30
                        Y: =10
                  - dpOOSNext1104Day:
                      Control: Classic/DatePicker@2.6.0
                      MetadataKey: FieldValue
                      Properties:
                        BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                        DefaultDate: |-
                          =If(Dropdown12.SelectedText.'Vehicle Type' = "Cab",
                              Blank(),
                              With(
                              {
                                  inspRecord: LookUp(
                                      colInspectionTracker2,
                                      'VEHICLE NO' = ddVehicle.Selected.'Coach/Cab/Locomotive' && 'NEXT INSPECTION' = "1104-Day"
                                  )
                              },
                              With(
                                  {
                                      startWindow: DateAdd(
                                          inspRecord.'LAST INSP DATE',
                                          1104 - 368
                                      ),
                                      endWindow: If(
                                          !IsBlank(inspRecord.'OUT INSPECTION DATE'),
                                          inspRecord.'INSP DUE DATE',
                                          Today()
                                      )
                                  },
                                  With(
                                      {
                                          OOSDays: Sum(
                                              Filter(
                                                  colOOSHistory,
                                                  Title = ddVehicle.Selected.'Coach/Cab/Locomotive' && 'OOS START' >= startWindow && 'OOS END' <= endWindow
                                              ),
                                              Value('OOS DAYS')
                                          )
                                      },
                                      If(
                                          OOSDays < 0,
                                          DateAdd(
                                              dpLast1104Day.SelectedDate,
                                              1104 + DateDiff(
                                                  LookUp(
                                                      'OOS History',
                                                     Title = ddVehicle.Selected.'Coach/Cab/Locomotive'
                                                  ).'OOS START',
                                                  Today()
                                              )
                                          ),
                                          DateAdd(
                                              dpLast1104Day.SelectedDate,
                                              1104
                                          )
                                      )
                                  )
                              )
                          ))
                        DisplayMode: =Parent.DisplayMode
                        EndYear: =Year(Today())+100
                        IsEditable: =true
                        PaddingBottom: =0
                        PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                        StartYear: =1899
                        Tooltip: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardKey145.Y + DataCardKey145.Height + 5
                  - ErrorMessage144:
                      Control: Label@2.5.1
                      MetadataKey: ErrorMessage
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(168, 0, 0, 1)
                        FontWeight: =FontWeight.Semibold
                        Height: =10
                        Live: =Live.Assertive
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =14
                        Text: =Parent.Error
                        Visible: =Parent.DisplayMode=DisplayMode.Edit
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =dpOOSNext1104Day.Y + dpOOSNext1104Day.Height
                  - StarVisible144:
                      Control: Label@2.5.1
                      MetadataKey: FieldRequired
                      Properties:
                        Align: =Align.Center
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =App.Theme.Colors.Darker30
                        Height: =DataCardKey145.Height
                        Text: ="*"
                        Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                        Width: =30
                        Wrap: =false
                        Y: =DataCardKey145.Y
            - NEXT 1472-DAY_DataCard1:
                Control: TypedDataCard@1.0.7
                Variant: ClassicDateEdit
                Properties:
                  DataField: ="NEXT_x0020_1472_x002d_DAY"
                  DisplayMode: =DisplayMode.View
                  Required: =false
                  Update: =dpNext1472Day.SelectedDate
                  Visible: =false
                  Width: =288
                  X: =0
                  Y: =7
                Children:
                  - DataCardKey138:
                      Control: Label@2.5.1
                      MetadataKey: FieldName
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =App.Theme.Colors.Darker30
                        Height: =34
                        Text: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        Wrap: =false
                        X: =30
                        Y: =10
                  - dpNext1472Day:
                      Control: Classic/DatePicker@2.6.0
                      MetadataKey: FieldValue
                      Properties:
                        BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                        DefaultDate: =DateAdd(dpLast1472Day.SelectedDate,1472)
                        DisplayMode: =Parent.DisplayMode
                        EndYear: =Year(Today())+100
                        IsEditable: =true
                        PaddingBottom: =0
                        PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                        StartYear: =1899
                        Tooltip: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardKey138.Y + DataCardKey138.Height + 5
                  - ErrorMessage137:
                      Control: Label@2.5.1
                      MetadataKey: ErrorMessage
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(168, 0, 0, 1)
                        FontWeight: =FontWeight.Semibold
                        Height: =10
                        Live: =Live.Assertive
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =14
                        Text: =Parent.Error
                        Visible: =Parent.DisplayMode=DisplayMode.Edit
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =dpNext1472Day.Y + dpNext1472Day.Height
                  - StarVisible137:
                      Control: Label@2.5.1
                      MetadataKey: FieldRequired
                      Properties:
                        Align: =Align.Center
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =App.Theme.Colors.Darker30
                        Height: =DataCardKey138.Height
                        Text: ="*"
                        Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                        Width: =30
                        Wrap: =false
                        Y: =DataCardKey138.Y
            - OOS NEXT 1472-DAY_DataCard1:
                Control: TypedDataCard@1.0.7
                Variant: ClassicDateEdit
                Properties:
                  DataField: ="OOS_x0020_NEXT_x0020_1472_x002d_"
                  DisplayMode: =DisplayMode.View
                  Required: =false
                  Update: =dpOOSNext1472Day.SelectedDate
                  Visible: =false
                  Width: =216
                  X: =4
                  Y: =7
                Children:
                  - DataCardKey144:
                      Control: Label@2.5.1
                      MetadataKey: FieldName
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =App.Theme.Colors.Darker30
                        Height: =34
                        Text: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        Wrap: =false
                        X: =30
                        Y: =10
                  - dpOOSNext1472Day:
                      Control: Classic/DatePicker@2.6.0
                      MetadataKey: FieldValue
                      Properties:
                        BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                        DefaultDate: |
                          =With(
                              {
                                  OOSDays: Sum(
                                      Filter(
                                          colOOSHistory,
                                          Title = ddVehicle.Selected.'Coach/Cab/Locomotive' &&
                                          'OOS START' >= LookUp(
                                              colInspectionTracker2,
                                              'VEHICLE NO' = ddVehicle.Selected.'Coach/Cab/Locomotive' && 'NEXT INSPECTION' = "1472-Day",
                                              'LAST INSP DATE'
                                          ) &&
                                          'OOS END' <= LookUp(
                                              colInspectionTracker2,
                                              'VEHICLE NO' = ddVehicle.Selected.'Coach/Cab/Locomotive' && 'NEXT INSPECTION' = "1472-Day",
                                              If(!IsBlank(LookUp(
                                              colInspectionTracker2,
                                              'VEHICLE NO' = ddVehicle.Selected.'Coach/Cab/Locomotive' && 'NEXT INSPECTION' = "1472-Day").'OUT INSPECTION DATE'), 'INSP DUE DATE', Today()) 
                                          )
                                      ),
                                      Value('OOS DAYS')
                                  )
                              },
                              If(
                                  OOSDays < 0,
                                  DateAdd(dpLast1472Day.SelectedDate, 1472 + DateDiff(LookUp('OOS History', Title = ddVehicle.Selected.'Coach/Cab/Locomotive').'OOS START', Today()) ),
                                  DateAdd(dpLast1472Day.SelectedDate, 1472 + OOSDays)
                              )
                          )
                        DisplayMode: =Parent.DisplayMode
                        EndYear: =Year(Today())+100
                        IsEditable: =true
                        PaddingBottom: =0
                        PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                        StartYear: =1899
                        Tooltip: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardKey144.Y + DataCardKey144.Height + 5
                  - ErrorMessage143:
                      Control: Label@2.5.1
                      MetadataKey: ErrorMessage
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(168, 0, 0, 1)
                        FontWeight: =FontWeight.Semibold
                        Height: =10
                        Live: =Live.Assertive
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =14
                        Text: =Parent.Error
                        Visible: =Parent.DisplayMode=DisplayMode.Edit
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =dpOOSNext1472Day.Y + dpOOSNext1472Day.Height
                  - StarVisible143:
                      Control: Label@2.5.1
                      MetadataKey: FieldRequired
                      Properties:
                        Align: =Align.Center
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =App.Theme.Colors.Darker30
                        Height: =DataCardKey144.Height
                        Text: ="*"
                        Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                        Width: =30
                        Wrap: =false
                        Y: =DataCardKey144.Y
            - LAST 92-DAY_DataCard1:
                Control: TypedDataCard@1.0.7
                Variant: ClassicDateEdit
                Properties:
                  DataField: ="LAST92_x002d_DAY"
                  DisplayMode: =DisplayMode.View
                  Required: =false
                  Update: =dpLast92Day.SelectedDate
                  Visible: =false
                  Width: =288
                  X: =7
                  Y: =7
                Children:
                  - DataCardKey108:
                      Control: Label@2.5.1
                      MetadataKey: FieldName
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =App.Theme.Colors.Darker30
                        Height: =34
                        Text: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        Wrap: =false
                        X: =30
                        Y: =10
                  - dpLast92Day:
                      Control: Classic/DatePicker@2.6.0
                      MetadataKey: FieldValue
                      Properties:
                        BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                        DefaultDate: |-
                          =If(
                              CB92Day.Value,
                              DatePicker4.SelectedDate,
                              LookUp(
                                  'Inspection Tracker 2.0', 'VEHICLE NO' = 
                                  Dropdown12_1.SelectedText.'Coach/Cab/Locomotive' && 'NEXT INSPECTION' = "92-Day"
                              ).'LAST INSP DATE'
                          )
                        DisplayMode: =Parent.DisplayMode
                        EndYear: =Year(Today())+100
                        IsEditable: =true
                        PaddingBottom: =0
                        PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                        StartYear: =1899
                        Tooltip: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardKey108.Y + DataCardKey108.Height + 5
                  - ErrorMessage110:
                      Control: Label@2.5.1
                      MetadataKey: ErrorMessage
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(168, 0, 0, 1)
                        FontWeight: =FontWeight.Semibold
                        Height: =10
                        Live: =Live.Assertive
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =14
                        Text: =Parent.Error
                        Visible: =Parent.DisplayMode=DisplayMode.Edit
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =dpLast92Day.Y + dpLast92Day.Height
                  - StarVisible110:
                      Control: Label@2.5.1
                      MetadataKey: FieldRequired
                      Properties:
                        Align: =Align.Center
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =App.Theme.Colors.Darker30
                        Height: =DataCardKey108.Height
                        Text: ="*"
                        Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                        Width: =30
                        Wrap: =false
                        Y: =DataCardKey108.Y
            - LAST 368-DAY_DataCard1:
                Control: TypedDataCard@1.0.7
                Variant: ClassicDateEdit
                Properties:
                  DataField: ="LAST368_x002d_DAY"
                  DisplayMode: =DisplayMode.View
                  Required: =false
                  Update: =dpLast368Day.SelectedDate
                  Visible: =false
                  Width: =288
                  X: =0
                  Y: =8
                Children:
                  - DataCardKey112:
                      Control: Label@2.5.1
                      MetadataKey: FieldName
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =App.Theme.Colors.Darker30
                        Height: =34
                        Text: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        Wrap: =false
                        X: =30
                        Y: =10
                  - dpLast368Day:
                      Control: Classic/DatePicker@2.6.0
                      MetadataKey: FieldValue
                      Properties:
                        BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                        DefaultDate: |-
                          =If(
                              CB368Day.Value,
                              DatePicker4.SelectedDate,
                              LookUp(
                                  'Inspection Tracker 2.0', 'VEHICLE NO' =
                                  Dropdown12_1.SelectedText.'Coach/Cab/Locomotive' && 'NEXT INSPECTION' = "368-Day"
                              ).'LAST INSP DATE'
                          )
                        DisplayMode: =Parent.DisplayMode
                        EndYear: =Year(Today())+100
                        IsEditable: =true
                        PaddingBottom: =0
                        PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                        StartYear: =1899
                        Tooltip: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardKey112.Y + DataCardKey112.Height + 5
                  - ErrorMessage111:
                      Control: Label@2.5.1
                      MetadataKey: ErrorMessage
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(168, 0, 0, 1)
                        FontWeight: =FontWeight.Semibold
                        Height: =10
                        Live: =Live.Assertive
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =14
                        Text: =Parent.Error
                        Visible: =Parent.DisplayMode=DisplayMode.Edit
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =dpLast368Day.Y + dpLast368Day.Height
                  - StarVisible111:
                      Control: Label@2.5.1
                      MetadataKey: FieldRequired
                      Properties:
                        Align: =Align.Center
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =App.Theme.Colors.Darker30
                        Height: =DataCardKey112.Height
                        Text: ="*"
                        Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                        Width: =30
                        Wrap: =false
                        Y: =DataCardKey112.Y
            - LAST 1104-DAY_DataCard1:
                Control: TypedDataCard@1.0.7
                Variant: ClassicDateEdit
                Properties:
                  DataField: ="LAST1104_x002d_DAY"
                  DisplayMode: =DisplayMode.View
                  Required: =false
                  Update: =dpLast1104Day.SelectedDate
                  Visible: =false
                  Width: =288
                  X: =4
                  Y: =8
                Children:
                  - DataCardKey118:
                      Control: Label@2.5.1
                      MetadataKey: FieldName
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =App.Theme.Colors.Darker30
                        Height: =34
                        Text: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        Wrap: =false
                        X: =30
                        Y: =10
                  - dpLast1104Day:
                      Control: Classic/DatePicker@2.6.0
                      MetadataKey: FieldValue
                      Properties:
                        BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                        DefaultDate: |-
                          =If(
                              Dropdown12.SelectedText.'Vehicle Type' = "Cab",
                              Blank(),
                              CB1104Day.Value,
                              DatePicker4.SelectedDate,
                              LookUp(
                                  'Inspection Tracker 2.0', 'VEHICLE NO' =
                                  Dropdown12_1.SelectedText.'Coach/Cab/Locomotive' && 'NEXT INSPECTION' = "1104-Day"
                              ).'LAST INSP DATE'
                          )
                        DisplayMode: =Parent.DisplayMode
                        EndYear: =Year(Today())+100
                        IsEditable: =true
                        PaddingBottom: =0
                        PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                        StartYear: =1899
                        Tooltip: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardKey118.Y + DataCardKey118.Height + 5
                  - ErrorMessage117:
                      Control: Label@2.5.1
                      MetadataKey: ErrorMessage
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(168, 0, 0, 1)
                        FontWeight: =FontWeight.Semibold
                        Height: =10
                        Live: =Live.Assertive
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =14
                        Text: =Parent.Error
                        Visible: =Parent.DisplayMode=DisplayMode.Edit
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =dpLast1104Day.Y + dpLast1104Day.Height
                  - StarVisible117:
                      Control: Label@2.5.1
                      MetadataKey: FieldRequired
                      Properties:
                        Align: =Align.Center
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =App.Theme.Colors.Darker30
                        Height: =DataCardKey118.Height
                        Text: ="*"
                        Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                        Width: =30
                        Wrap: =false
                        Y: =DataCardKey118.Y
            - LAST 1472-DAY_DataCard1:
                Control: TypedDataCard@1.0.7
                Variant: ClassicDateEdit
                Properties:
                  DataField: ="LAST1472_x002d_DAY"
                  DisplayMode: =DisplayMode.View
                  DisplayName: =DataSourceInfo([@'Inspection Tracker 2.0'],DataSourceInfo.DisplayName,field_4)
                  Required: =false
                  Update: =dpLast1472Day.SelectedDate
                  Visible: =false
                  Width: =288
                  X: =8
                  Y: =8
                Children:
                  - DataCardKey125:
                      Control: Label@2.5.1
                      MetadataKey: FieldName
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =App.Theme.Colors.Darker30
                        Height: =34
                        Text: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        Wrap: =false
                        X: =30
                        Y: =10
                  - dpLast1472Day:
                      Control: Classic/DatePicker@2.6.0
                      MetadataKey: FieldValue
                      Properties:
                        BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                        DefaultDate: |-
                          =If(
                              CB1472Day.Value,
                              DatePicker4.SelectedDate,
                              LookUp(
                                  'Inspection Tracker 2.0', 'VEHICLE NO' =
                                  Dropdown12_1.SelectedText.'Coach/Cab/Locomotive' && 'NEXT INSPECTION' = "1472-Day"
                              ).'LAST INSP DATE'
                          )
                        DisplayMode: =Parent.DisplayMode
                        EndYear: =Year(Today())+100
                        IsEditable: =true
                        PaddingBottom: =0
                        PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                        StartYear: =1899
                        Tooltip: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardKey125.Y + DataCardKey125.Height + 5
                  - ErrorMessage124:
                      Control: Label@2.5.1
                      MetadataKey: ErrorMessage
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(168, 0, 0, 1)
                        FontWeight: =FontWeight.Semibold
                        Height: =10
                        Live: =Live.Assertive
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =14
                        Text: =Parent.Error
                        Visible: =Parent.DisplayMode=DisplayMode.Edit
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =dpLast1472Day.Y + dpLast1472Day.Height
                  - StarVisible124:
                      Control: Label@2.5.1
                      MetadataKey: FieldRequired
                      Properties:
                        Align: =Align.Center
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =App.Theme.Colors.Darker30
                        Height: =DataCardKey125.Height
                        Text: ="*"
                        Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                        Width: =30
                        Wrap: =false
                        Y: =DataCardKey125.Y
      - Label40_17:
          Control: Label@2.5.1
          Properties:
            Align: =Align.Center
            Height: =57
            Text: ="VECHILE NO"
            Width: =80
            Y: =129
      - Label40_18:
          Control: Label@2.5.1
          Properties:
            Align: =Align.Center
            Height: =57
            Text: ="OOS START"
            Width: =115
            X: =80
            Y: =129
      - Label40_20:
          Control: Label@2.5.1
          Properties:
            Align: =Align.Center
            Height: =57
            Text: ="OOS END"
            Width: =115
            X: =195
            Y: =129
      - Label40_21:
          Control: Label@2.5.1
          Properties:
            Align: =Align.Center
            Height: =57
            Text: ="DAYS"
            Width: =66
            X: =310
            Y: =129
      - Icon10:
          Control: Classic/Icon@2.5.0
          Properties:
            Height: =51
            Icon: =Icon.Database
            OnSelect: |-
              =UpdateContext({ var184Day: false, var92Day: false, var1472Day: false, var1104Day: false, var368Day:false });
              Navigate('PM-Dashboard')
            Width: =51
            X: =75
      - Gallery4_6:
          Control: Gallery@2.15.0
          Variant: VariableHeight
          Properties:
            Height: =405
            Items: "=\r\n    Filter(colOOSHistory,Title = ddVehicle.Selected.'Coach/Cab/Locomotive') \r\n    "
            OnSelect: =EditForm(FormInspDate)
            TemplatePadding: =0
            TemplateSize: =38
            Width: =481
            Y: =186
          Children:
            - Label37_2:
                Control: Label@2.5.1
                Properties:
                  Align: =Align.Center
                  DisplayMode: =DisplayMode.View
                  Height: =38
                  OnSelect: =Select(Parent)
                  Text: =ThisItem.Title
                  Width: =80
            - DatePicker5:
                Control: Classic/DatePicker@2.6.0
                Properties:
                  DefaultDate: =ThisItem.'OOS START'
                  DisplayMode: =DisplayMode.View
                  Fill: =RGBA(0, 0, 0, 0)
                  Height: =38
                  OnSelect: =Select(Parent)
                  Size: =13
                  Width: =115
                  X: =80
            - DatePicker5_1:
                Control: Classic/DatePicker@2.6.0
                Properties:
                  DefaultDate: =ThisItem.'OOS END'
                  DisplayMode: =DisplayMode.View
                  Fill: =RGBA(0, 0, 0, 0)
                  Height: =38
                  OnSelect: =Select(Parent)
                  Size: =13
                  Width: =115
                  X: =196
            - Label45:
                Control: Label@2.5.1
                Properties:
                  Align: =Align.Center
                  Height: =38
                  OnSelect: =Select(Parent)
                  Text: =If(IsBlank(ThisItem.'OOS END'), "OOS", Value(ThisItem.'OOS DAYS'))
                  Width: =63
                  X: =310
            - Icon12:
                Control: Classic/Icon@2.5.0
                Properties:
                  Color: ='UTA-LightBlue'.Fill
                  Height: =28
                  Icon: =Icon.Trash
                  OnSelect: |-
                    =Remove(
                        'OOS History',
                        ThisItem
                    );
                    Refresh('OOS History');
                    ClearCollect(
                        colOOSHistory,
                        'OOS History'
                    )
                  Width: =45
                  X: =428
                  Y: =5
            - Icon13:
                Control: Classic/Icon@2.5.0
                Properties:
                  Color: =Color.DimGrey
                  Height: =28
                  Icon: =Icon.Edit
                  OnSelect: |-
                    =Set(varFormFM, FormMode.Edit);
                    ClearCollect(colHist, Gallery4_6.Selected);
                    Set(varForm5, false);
                    Set(varOOSHis, true)
                  Width: =45
                  X: =377
                  Y: =5
      - Label43_18:
          Control: Label@2.5.1
          Properties:
            Align: =Align.Center
            Height: =74
            Size: =28
            Text: ="OOS History"
            Width: =481
            Y: =53
      - Label40_22:
          Control: Label@2.5.1
          Properties:
            Align: =Align.Center
            Height: =57
            PaddingLeft: =3
            Text: ="Edit"
            Width: =46
            X: =376
            Y: =127
      - Label40_23:
          Control: Label@2.5.1
          Properties:
            Align: =Align.Center
            Height: =57
            PaddingLeft: =3
            PaddingRight: =3
            Text: ="Delete"
            Width: =56
            X: =424
            Y: =127
      - Form5:
          Control: Form@2.4.4
          Variant: Classic
          Layout: Vertical
          Properties:
            DataSource: ='OOS History'
            DefaultMode: =varFormFM
            Fill: ='UTA-Gray'.Fill
            Height: =708
            Item: =Gallery4_6.Selected
            NumberOfColumns: =12
            Visible: =varOOSHis
            Width: =482
            Y: =51
          Children:
            - VEHICLE NO_DataCard2:
                Control: TypedDataCard@1.0.7
                Variant: ClassicAllowedValuesStringEdit
                Properties:
                  AllowedValues: =DataSourceInfo([@'OOS History'], DataSourceInfo.AllowedValues, Title)
                  DataField: ="VEHICLENO"
                  Default: =ThisItem.Title
                  DisplayName: =DataSourceInfo([@'OOS History'],DataSourceInfo.DisplayName, Title)
                  Required: =false
                  Width: =480
                  X: =0
                  Y: =0
                Children:
                  - DataCardKey156:
                      Control: Label@2.5.1
                      MetadataKey: FieldName
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =App.Theme.Colors.Darker30
                        Height: =34
                        Text: ="VEHICLE NO"
                        Width: =Parent.Width - 60
                        Wrap: =false
                        X: =30
                        Y: =10
                  - DataCardValue137:
                      Control: Classic/DropDown@2.3.1
                      MetadataKey: FieldValue
                      Properties:
                        BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                        Default: =ThisItem.Title
                        DisplayMode: =DisplayMode.Disabled
                        Items: =ddVehicle.SelectedText
                        Items.Value: =Value
                        Tooltip: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardKey156.Y + DataCardKey156.Height + 5
                  - ErrorMessage153:
                      Control: Label@2.5.1
                      MetadataKey: ErrorMessage
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(168, 0, 0, 1)
                        FontWeight: =FontWeight.Semibold
                        Height: =10
                        Live: =Live.Assertive
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =14
                        Text: =Parent.Error
                        Visible: =Parent.DisplayMode=DisplayMode.Edit
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardValue137.Y + DataCardValue137.Height
                  - StarVisible153:
                      Control: Label@2.5.1
                      MetadataKey: FieldRequired
                      Properties:
                        Align: =Align.Center
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =App.Theme.Colors.Darker30
                        Height: =DataCardKey156.Height
                        Text: ="*"
                        Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                        Width: =30
                        Wrap: =false
                        Y: =DataCardKey156.Y
            - OOS START_DataCard2:
                Control: TypedDataCard@1.0.7
                Variant: ClassicDateEdit
                Properties:
                  DataField: ="OOSSTART"
                  Default: =ThisItem.'OOS START'
                  DisplayName: =DataSourceInfo([@'OOS History'],DataSourceInfo.DisplayName,'OOS START')
                  Required: =false
                  Update: =DataCardValue112.SelectedDate
                  Width: =240
                  X: =0
                  Y: =1
                Children:
                  - DataCardKey149:
                      Control: Label@2.5.1
                      MetadataKey: FieldName
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =App.Theme.Colors.Darker30
                        Height: =34
                        Text: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        Wrap: =false
                        X: =30
                        Y: =10
                  - DataCardValue112:
                      Control: Classic/DatePicker@2.6.0
                      MetadataKey: FieldValue
                      Properties:
                        BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                        DefaultDate: =Parent.Default
                        DisplayMode: =Parent.DisplayMode
                        EndYear: =Year(Today())+100
                        IsEditable: =true
                        PaddingBottom: =0
                        PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                        StartYear: =1899
                        Tooltip: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardKey149.Y + DataCardKey149.Height + 5
                  - ErrorMessage148:
                      Control: Label@2.5.1
                      MetadataKey: ErrorMessage
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(168, 0, 0, 1)
                        FontWeight: =FontWeight.Semibold
                        Height: =10
                        Live: =Live.Assertive
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =14
                        Text: =Parent.Error
                        Visible: =Parent.DisplayMode=DisplayMode.Edit
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardValue112.Y + DataCardValue112.Height
                  - StarVisible148:
                      Control: Label@2.5.1
                      MetadataKey: FieldRequired
                      Properties:
                        Align: =Align.Center
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =App.Theme.Colors.Darker30
                        Height: =DataCardKey149.Height
                        Text: ="*"
                        Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                        Width: =30
                        Wrap: =false
                        Y: =DataCardKey149.Y
            - OOS END_DataCard2:
                Control: TypedDataCard@1.0.7
                Variant: ClassicDateEdit
                Properties:
                  DataField: ="OOSEND"
                  Default: =ThisItem.'OOS END'
                  DisplayName: =DataSourceInfo([@'OOS History'],DataSourceInfo.DisplayName,field_2)
                  Required: =false
                  Update: =DataCardValue116.SelectedDate
                  Width: =240
                  X: =6
                  Y: =1
                Children:
                  - DataCardKey150:
                      Control: Label@2.5.1
                      MetadataKey: FieldName
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =App.Theme.Colors.Darker30
                        Height: =34
                        Text: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        Wrap: =false
                        X: =30
                        Y: =10
                  - DataCardValue116:
                      Control: Classic/DatePicker@2.6.0
                      MetadataKey: FieldValue
                      Properties:
                        BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                        DefaultDate: =Parent.Default
                        DisplayMode: =Parent.DisplayMode
                        EndYear: =Year(Today())+100
                        IsEditable: =true
                        PaddingBottom: =0
                        PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                        StartYear: =1899
                        Tooltip: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardKey150.Y + DataCardKey150.Height + 5
                  - ErrorMessage149:
                      Control: Label@2.5.1
                      MetadataKey: ErrorMessage
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(168, 0, 0, 1)
                        FontWeight: =FontWeight.Semibold
                        Height: =10
                        Live: =Live.Assertive
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =14
                        Text: =Parent.Error
                        Visible: =Parent.DisplayMode=DisplayMode.Edit
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardValue116.Y + DataCardValue116.Height
                  - StarVisible149:
                      Control: Label@2.5.1
                      MetadataKey: FieldRequired
                      Properties:
                        Align: =Align.Center
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =App.Theme.Colors.Darker30
                        Height: =DataCardKey150.Height
                        Text: ="*"
                        Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                        Width: =30
                        Wrap: =false
                        Y: =DataCardKey150.Y
            - REASON_DataCard2:
                Control: TypedDataCard@1.0.7
                Variant: ClassicAllowedValuesStringEdit
                Properties:
                  AllowedValues: =DataSourceInfo([@'OOS History'], DataSourceInfo.AllowedValues, 'REASON')
                  DataField: ="REASON"
                  Default: =ThisItem.REASON
                  DisplayName: =DataSourceInfo([@'OOS History'],DataSourceInfo.DisplayName,'REASON')
                  Required: =false
                  Update: =DataCardValue139.Selected.Value
                  Width: =320
                  X: =0
                  Y: =2
                Children:
                  - DataCardKey157:
                      Control: Label@2.5.1
                      MetadataKey: FieldName
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =App.Theme.Colors.Darker30
                        Height: =34
                        Text: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        Wrap: =false
                        X: =30
                        Y: =10
                  - DataCardValue139:
                      Control: Classic/DropDown@2.3.1
                      MetadataKey: FieldValue
                      Properties:
                        BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                        Default: =Parent.Default
                        DisplayMode: =Parent.DisplayMode
                        Items: =["SCHEDULED", "UNSCHEDULED"]
                        Items.Value: =Value
                        Tooltip: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardKey157.Y + DataCardKey157.Height + 5
                  - ErrorMessage154:
                      Control: Label@2.5.1
                      MetadataKey: ErrorMessage
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(168, 0, 0, 1)
                        FontWeight: =FontWeight.Semibold
                        Height: =10
                        Live: =Live.Assertive
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =14
                        Text: =Parent.Error
                        Visible: =Parent.DisplayMode=DisplayMode.Edit
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardValue139.Y + DataCardValue139.Height
                  - StarVisible154:
                      Control: Label@2.5.1
                      MetadataKey: FieldRequired
                      Properties:
                        Align: =Align.Center
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =App.Theme.Colors.Darker30
                        Height: =DataCardKey157.Height
                        Text: ="*"
                        Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                        Width: =30
                        Wrap: =false
                        Y: =DataCardKey157.Y
            - NOTES_DataCard4:
                Control: TypedDataCard@1.0.7
                Variant: ClassicTextualMultilineEdit
                IsLocked: true
                Properties:
                  DataField: ="NOTES"
                  Default: =ThisItem.NOTES
                  DisplayName: =DataSourceInfo([@'OOS History'],DataSourceInfo.DisplayName,'NOTES')
                  Required: =false
                  Update: =DataCardValue140.Text
                  Width: =480
                  X: =0
                  Y: =3
                Children:
                  - DataCardKey158:
                      Control: Label@2.5.1
                      MetadataKey: FieldName
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =App.Theme.Colors.Darker30
                        Height: =34
                        Text: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        Wrap: =false
                        X: =30
                        Y: =10
                  - DataCardValue140:
                      Control: Classic/TextInput@2.3.2
                      MetadataKey: FieldValue
                      Properties:
                        BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                        Default: =Parent.Default
                        DelayOutput: =true
                        DisplayMode: =Parent.DisplayMode
                        Height: =80
                        Mode: =TextMode.MultiLine
                        PaddingLeft: =5
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Tooltip: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardKey158.Y + DataCardKey158.Height + 5
                  - ErrorMessage155:
                      Control: Label@2.5.1
                      MetadataKey: ErrorMessage
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(168, 0, 0, 1)
                        FontWeight: =FontWeight.Semibold
                        Height: =10
                        Live: =Live.Assertive
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =14
                        Text: =Parent.Error
                        Visible: =Parent.DisplayMode=DisplayMode.Edit
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardValue140.Y + DataCardValue140.Height
                  - StarVisible155:
                      Control: Label@2.5.1
                      MetadataKey: FieldRequired
                      Properties:
                        Align: =Align.Center
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =App.Theme.Colors.Darker30
                        Height: =DataCardKey158.Height
                        Text: ="*"
                        Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                        Width: =30
                        Wrap: =false
                        Y: =DataCardKey158.Y
            - DataCard26:
                Control: TypedDataCard@1.0.7
                Variant: BlankCard
                Properties:
                  Height: =128
                  Width: =480
                  X: =0
                  Y: =4
                Children:
                  - Button31:
                      Control: Classic/Button@2.2.0
                      Properties:
                        OnSelect: |-
                          =
                          Patch(
                              colOOSHistory,
                              If(
                                  varFormFM = FormMode.New,
                                  Defaults(colOOSHistory), varFormFM=FormMode.Edit,
                                  LookUp(
                                      colOOSHistory,
                                      Title = DataCardValue137.Selected.'Coach/Cab/Locomotive' && 'OOS START' =  Gallery4_6.Selected.'OOS START'
                                  )
                              ),
                              { 
                                  Title: DataCardValue137.Selected.'Coach/Cab/Locomotive',
                                  'OOS START': DataCardValue112.SelectedDate,
                                  'OOS END': DataCardValue116.SelectedDate,
                                  REASON: DataCardValue139.Selected.Value,
                                  NOTES: DataCardValue140.Text
                              }
                          )
                          ;
                          Set(
                              varOOSHis,
                              false
                          );
                          Set(
                              varChooseVehicle,
                              true
                          );
                          UpdateContext(
                              {
                                  var1472Day: false,
                                  var1104Day: false,
                                  var368Day: false,
                                  var184Day: false,
                                  var92Day: false,
                                  varOut30: false,
                                  varOutInsp: false
                              }
                          );
                          ClearCollect(
                              colOOSHistory,
                              'OOS History'
                          );
                          Refresh('Inspection Tracker 2.0')
                        Text: ="Submit"
                        X: =288
                        Y: =52
                  - Button31_1:
                      Control: Classic/Button@2.2.0
                      Properties:
                        BorderStyle: =BorderStyle.None
                        BorderThickness: =0
                        Fill: ='UTA-LightGray'.Fill
                        OnSelect: |-
                          =UpdateContext(
                              {
                                  var1472Day: false,
                                  var1104Day: false,
                                  var368Day: false,
                                  var184Day: false,
                                  var92Day: false,
                                  varOut30: false,
                                  varOutInsp: false
                              }
                          );Set(varOOSHis, false);
                        Text: ="Cancel"
                        Width: =101
                        X: =152
                        Y: =52
      - Rectangle19:
          Control: Rectangle@2.3.0
          Group: Group9
          Properties:
            BorderColor: =Color.Black
            BorderThickness: =2
            Fill: =RGBA(255, 255, 255, 0.95)
            Height: =590
            Visible: =varChooseVehicle
            Width: =1203
            X: =38
            Y: =85
      - DataCardKey151_1:
          Control: Label@2.5.1
          Group: Group9
          Properties:
            Align: =Align.Right
            BorderColor: =RGBA(0, 0, 0, 1)
            Height: =25
            Size: =16
            Text: ="VEHICLE TYPE:"
            Visible: =varChooseVehicle
            Wrap: =false
            X: =195
            Y: =370
      - DataCardValue138:
          Control: Classic/DropDown@2.3.1
          Group: Group9
          Properties:
            BorderColor: =
            Default: =
            DisplayMode: =
            Height: =44
            Items: =Distinct('Loco/Cab/Coach', 'Vehicle Type')
            Items.Value: =Value
            Tooltip: =
            Visible: =varChooseVehicle
            Width: =150
            X: =344
            Y: =370
      - DataCardKey149_1:
          Control: Label@2.5.1
          Group: Group9
          Properties:
            Align: =Align.Right
            BorderColor: =RGBA(0, 0, 0, 1)
            Height: =25
            Size: =16
            Text: ="VEHICLE NO:"
            Visible: =varChooseVehicle
            Wrap: =false
            X: =587
            Y: =370
      - ddVehicle:
          Control: Classic/DropDown@2.3.1
          Group: Group9
          Properties:
            BorderColor: =
            Default: =
            DisplayMode: =
            Height: =44
            Items: =Filter('Loco/Cab/Coach', 'Vehicle Type' = DataCardValue138.Selected.Value)
            Items.Value: =field_3
            Tooltip: =
            Visible: =varChooseVehicle
            Width: =150
            X: =737
            Y: =370
      - DataCardKey151_2:
          Control: Label@2.5.1
          Group: Group9
          Properties:
            BorderColor: =RGBA(0, 0, 0, 1)
            Color: =Color.Black
            Fill: =RGBA(209, 207, 206, 0.59)
            Height: =71
            Size: =18
            Text: ="Please select a vehicle to continue."
            Visible: =varChooseVehicle
            Width: =994
            X: =126
            Y: =222
      - Button28:
          Control: Classic/Button@2.2.0
          Group: Group9
          Properties:
            Height: =44
            OnSelect: |-
              =Set(
                  varChooseVehicle,
                  false
              );
              UpdateContext(
                  {
                      var184Day: false,
                      var92Day: false,
                      var1472Day: false,
                      var1104Day: false,
                      var368Day: false
                  }
              )
            Text: ="Continue"
            Visible: =varChooseVehicle
            X: =960
            Y: =478
      - Rectangle22:
          Control: Rectangle@2.3.0
          Group: Group9
          Properties:
            Height: =72
            Visible: =varChooseVehicle
            Width: =1203
            X: =38
            Y: =86
      - Rectangle23:
          Control: Rectangle@2.3.0
          Properties:
            Fill: =RGBA(255, 255, 255, 0.85)
            Height: =767
            Visible: =varWait
            Width: =1366
      - Image7:
          Control: Image@2.2.3
          Properties:
            Image: ='Bean Eater-0.8s-200px'
            Visible: =varWait
            X: =633
            Y: =342
      - Label46:
          Control: Label@2.5.1
          Properties:
            Fill: =RGBA(232, 232, 232, 0.85)
            Height: =51
            Size: =18
            Text: ="Please wait for the record to update the server........"
            Visible: =varWait
            Width: =721
            X: =301
            Y: =242
      - Rectangle24:
          Control: Rectangle@2.3.0
          Properties:
            Fill: =RGBA(255, 255, 255, 0.9)
            Height: =714
            Visible: =varWait
            Width: =1363
            Y: =53
      - OOSDAYAPPLIED:
          Control: Classic/DropDown@2.3.1
          Properties:
            AllowEmptySelection: =true
            Default: =
            Items: =["Yes","No"]
            Items.Value: =Value
            Visible: =varWait
            Width: =210
            X: =771
            Y: =277
      - Label42:
          Control: Label@2.5.1
          Properties:
            Align: =Align.Right
            Height: =65
            Size: =14
            Text: ="Was Out of Service Credit used for this inspection?"
            Visible: =varWait
            Width: =428
            X: =341
            Y: =265
      - Button34:
          Control: Classic/Button@2.2.0
          Properties:
            OnSelect: |-
              =ClearCollect(
                  colInspHis,
                  'Inspection History'
              );
              If(
                  Dropdown12.Selected.'Vehicle Type' = "Coach",
                  "",
                  With(
                      {
                          InspID92: Concatenate(
                              ddVehicle.Selected.'Coach/Cab/Locomotive',
                              "-92-",
                              dpLast92Day.SelectedDate
                          )
                      },
                      If(
                          IsBlank(
                              LookUp(
                                  colInspHis,
                                  Title = InspID92
                              )
                          ),
                          Patch(
                              'Inspection History',
                              Defaults('Inspection History'),
                              {
                                  Title: ddVehicle.Selected.'Coach/Cab/Locomotive',
                                  'INSPECTION TYPE': "92-Day",
                                  'LAST INSP DATE': dpLast92Day.SelectedDate,
                                  'INSP DUE DATE': dpNext92Day.SelectedDate,
                                  'DUE DATE WITH OOS CREDIT': dpOOSNext92Day.SelectedDate,
                                  'OUT INSP DATE': OUTINSPDATE.SelectedDate,
                                  'File name with extension': InspID92,
                                  EMPLOYEE: User().FullName,
                                  TIMESTAMP: Now(),
                                  'OOS DAYS APPLIED': OOSDAYAPPLIED.SelectedText.Value,
                                  'VEHICLE TYPE': Dropdown12.Selected.'Vehicle Type'
                              }
                          )
                      )
                  )
              );
              If(
                  Dropdown12.Selected.'Vehicle Type' = "Cab",
                  "",
                  With(
                      {
                          InspID184: Concatenate(
                              ddVehicle.Selected.'Coach/Cab/Locomotive',
                              "-184-",
                              dpLast184Day.SelectedDate
                          )
                      },
                      If(
                          IsBlank(
                              LookUp(
                                  colInspHis,
                                  'File name with extension' = InspID184
                              )
                          ),
                          Patch(
                              'Inspection History',
                              Defaults('Inspection History'),
                              {
                                  'VEHICLE NO': ddVehicle.Selected.'Coach/Cab/Locomotive',
                                  'INSPECTION TYPE': "184-Day",
                                  'LAST INSP DATE': dpLast184Day.SelectedDate,
                                  'INSP DUE DATE': dpNext184Day.SelectedDate,
                                  'DUE DATE WITH OOS CREDIT': dpOOSNext184Day.SelectedDate,
                                  'OUT INSP DATE': OUTINSPDATE.SelectedDate,
                                  Title: InspID184,
                                  EMPLOYEE: User().FullName,
                                  TIMESTAMP: Now(),
                                  'OOS DAYS APPLIED': OOSDAYAPPLIED.SelectedText.Value,
                                  'VEHICLE TYPE': Dropdown12.Selected.'Vehicle Type'
                              }
                          )
                      )
                  )
              );
              With(
                  {
                      InspID368: Concatenate(
                          ddVehicle.Selected.'Coach/Cab/Locomotive',
                          "-368-",
                          dpLast368Day.SelectedDate
                      )
                  },
                  If(
                      IsBlank(
                          LookUp(
                              colInspHis,
                              'File name with extension' = InspID368
                          )
                      ),
                      Patch(
                          'Inspection History',
                          Defaults('Inspection History'),
                          {
                              'VEHICLE NO': ddVehicle.Selected.'Coach/Cab/Locomotive',
                              'INSPECTION TYPE': "368-Day",
                              'LAST INSP DATE': dpLast368Day.SelectedDate,
                              'INSP DUE DATE': dpNext368Day.SelectedDate,
                              'DUE DATE WITH OOS CREDIT': dpOOSNext368Day.SelectedDate,
                              'OUT INSP DATE': OUTINSPDATE.SelectedDate,
                              Title: InspID368,
                              EMPLOYEE: User().FullName,
                              TIMESTAMP: Now(),
                              'OOS DAYS APPLIED': OOSDAYAPPLIED.SelectedText.Value,
                              'VEHICLE TYPE': Dropdown12.Selected.'Vehicle Type'
                          }
                      )
                  )
              );
              If(
                  Dropdown12.Selected.'Vehicle Type' = "Cab",
                  "",
                  With(
                      {
                          InspID1104: Concatenate(
                              ddVehicle.Selected.'Coach/Cab/Locomotive',
                              "-1104-",
                              dpLast1104Day.SelectedDate
                          )
                      },
                      If(
                          IsBlank(
                              LookUp(
                                  colInspHis,
                                  'File name with extension' = InspID1104
                              )
                          ),
                          Patch(
                              'Inspection History',
                              Defaults('Inspection History'),
                              {
                                  'VEHICLE NO': ddVehicle.Selected.'Coach/Cab/Locomotive',
                                  'INSPECTION TYPE': "1104-Day",
                                  'LAST INSP DATE': dpLast1104Day.SelectedDate,
                                  'INSP DUE DATE': dpNext1104Day.SelectedDate,
                                  'DUE DATE WITH OOS CREDIT': dpOOSNext1104Day.SelectedDate,
                                  'OUT INSP DATE': OUTINSPDATE.SelectedDate,
                                  Title: InspID1104,
                                  EMPLOYEE: User().FullName,
                                  TIMESTAMP: Now(),
                                  'OOS DAYS APPLIED': OOSDAYAPPLIED.SelectedText.Value,
                                  'VEHICLE TYPE': Dropdown12.Selected.'Vehicle Type'
                              }
                          )
                      )
                  )
              );
              With(
                  {
                      InspID1472: Concatenate(
                          ddVehicle.Selected.'Coach/Cab/Locomotive',
                          "-1472-",
                          dpLast1472Day.SelectedDate
                      )
                  },
                  If(
                      IsBlank(
                          LookUp(
                              colInspHis,
                              'File name with extension' = InspID1472
                          )
                      ),
                      Patch(
                          'Inspection History',
                          Defaults('Inspection History'),
                          {
                              'VEHICLE NO': ddVehicle.Selected.'Coach/Cab/Locomotive',
                              'INSPECTION TYPE': "1472-Day",
                              'LAST INSP DATE': dpLast1472Day.SelectedDate,
                              'INSP DUE DATE': dpNext1472Day.SelectedDate,
                              'DUE DATE WITH OOS CREDIT': dpOOSNext1472Day.SelectedDate,
                              'OUT INSP DATE': OUTINSPDATE.SelectedDate,
                              Title: InspID1472,
                              EMPLOYEE: User().FullName,
                              TIMESTAMP: Now(),
                              'OOS DAYS APPLIED': OOSDAYAPPLIED.SelectedText.Value,
                              'VEHICLE TYPE': Dropdown12.Selected.'Vehicle Type'
                          }
                      )
                  )
              );
              Set(
                  varWait,
                  false
              )
            Text: ="Submit"
            Visible: =varWait
            X: =821
            Y: =442
      - Label42_1:
          Control: Label@2.5.1
          Properties:
            Align: =Align.Right
            Height: =65
            Size: =14
            Text: ="Date the Vehicle Came OOS"
            Visible: =varWait
            Width: =428
            X: =343
            Y: =330
      - OUTINSPDATE:
          Control: Classic/DatePicker@2.6.0
          Properties:
            Visible: =varWait
            Width: =210
            X: =771
            Y: =348
